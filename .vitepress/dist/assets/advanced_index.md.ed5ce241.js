import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.d6381ae5.js";const m=JSON.parse('{"title":"进阶配置 🚀","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/index.md","filePath":"advanced/index.md"}'),p={name:"advanced/index.md"},o=l(`<h1 id="进阶配置-🚀" tabindex="-1">进阶配置 🚀 <a class="header-anchor" href="#进阶配置-🚀" aria-label="Permalink to &quot;进阶配置 🚀&quot;">​</a></h1><h2 id="评论" tabindex="-1">评论 <a class="header-anchor" href="#评论" aria-label="Permalink to &quot;评论&quot;">​</a></h2><p>目前只支持<code>twikoo</code>并且非常完善，其他的评论系统正在路上……</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 评论</span></span>
<span class="line"><span style="color:#85E89D;">comment</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">twikoo</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">envId</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">https://twikoo.sondy.top</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># twikoo 部署地址</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">path</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">window.location.pathname</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;"># </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">lang</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;zh-CN&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 用于手动设定评论区语言，支持的语言列表 https://github.com/twikoojs/twikoo/blob/main/src/client/utils/i18n/index.js</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">accessToken</span><span style="color:#E1E4E8;">:  </span><span style="color:#6A737D;"># accessToken</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 评论</span></span>
<span class="line"><span style="color:#22863A;">comment</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">twikoo</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">envId</span><span style="color:#24292E;">: </span><span style="color:#032F62;">https://twikoo.sondy.top</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># twikoo 部署地址</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">path</span><span style="color:#24292E;">: </span><span style="color:#032F62;">window.location.pathname</span><span style="color:#24292E;">  </span><span style="color:#6A737D;"># </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">lang</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;zh-CN&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 用于手动设定评论区语言，支持的语言列表 https://github.com/twikoojs/twikoo/blob/main/src/client/utils/i18n/index.js</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">accessToken</span><span style="color:#24292E;">:  </span><span style="color:#6A737D;"># accessToken</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>开启<code>twikoo</code>评论后默认开启热评功能。</p></div><h2 id="ai文章摘要" tabindex="-1">Ai文章摘要 <a class="header-anchor" href="#ai文章摘要" aria-label="Permalink to &quot;Ai文章摘要&quot;">​</a></h2><p>已整合 <code>@qxchuckle</code>的Ai文章摘要工具 <code>Post-Summary-AI 5.8</code>，将持续进行功能开发、更新等等</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">ai</span><span style="color:#E1E4E8;">: </span><span style="color:#6A737D;"># 文章页面AI</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">key</span><span style="color:#E1E4E8;">: </span><span style="color:#6A737D;"># 前往tianli-AI 购买</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">rec_method</span><span style="color:#E1E4E8;">: </span><span style="color:#6A737D;"># 推荐文章方式（all:匹配数据库所有文章、web:仅当前博客文章）默认：web</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">ai</span><span style="color:#24292E;">: </span><span style="color:#6A737D;"># 文章页面AI</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">key</span><span style="color:#24292E;">: </span><span style="color:#6A737D;"># 前往tianli-AI 购买</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">rec_method</span><span style="color:#24292E;">: </span><span style="color:#6A737D;"># 推荐文章方式（all:匹配数据库所有文章、web:仅当前博客文章）默认：web</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>使用前，tianliGPT的key请到<a href="https://afdian.net/item/f18c2e08db4411eda2f25254001e7c00" target="_blank" rel="noreferrer">爱发电</a>中购买，10元5万字符（常有优惠）。请求过的内容再次请求不会消耗key，可以无限期使用。</p><ul><li>购买完成后，进入<a href="summary.zhheo.com">管理后台</a>：summary.zhheo.com ，登录后点击右上角的“添加新网站”，输入密钥即可绑定成功。</li><li>若需要进行本地调试，请在管理后台将 <code>127.0.0.1:端口</code> 加入白名单，否则会触发防盗KEY，无法正常获取摘要。</li></ul></div><h2 id="gulp使用" tabindex="-1">Gulp使用 <a class="header-anchor" href="#gulp使用" aria-label="Permalink to &quot;Gulp使用&quot;">​</a></h2><p>使用Gulp对代码进行压缩</p><ol><li>安装相关插件：<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gulp</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">compress</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gulp-clean-css</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gulp-html-minifier-terser</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gulp-htmlclean</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gulp-terser</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gulp</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">compress</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gulp-clean-css</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gulp-html-minifier-terser</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gulp-htmlclean</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gulp-terser</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span></code></pre></div></li><li>在项目根目录创建 <code>gulpfile.js</code> 文件，复制以下内容：<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> gulp </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;gulp&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> cleanCSS </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;gulp-clean-css&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> htmlmin </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;gulp-html-minifier-terser&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> htmlclean </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;gulp-htmlclean&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> terser </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;gulp-terser&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#6A737D;">// 压缩js</span></span>
<span class="line"><span style="color:#E1E4E8;">gulp.</span><span style="color:#B392F0;">task</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;compress&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">gulp.</span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;./public/**/*.js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;!./public/**/*.min.js&#39;</span><span style="color:#E1E4E8;">])</span></span>
<span class="line"><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pipe</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">terser</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pipe</span><span style="color:#E1E4E8;">(gulp.</span><span style="color:#B392F0;">dest</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./public&#39;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#6A737D;">//压缩css</span></span>
<span class="line"><span style="color:#E1E4E8;">gulp.</span><span style="color:#B392F0;">task</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;minify-css&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> gulp.</span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;./public/**/*.css&#39;</span><span style="color:#E1E4E8;">])</span></span>
<span class="line"><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pipe</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">cleanCSS</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">compatibility: </span><span style="color:#9ECBFF;">&#39;ie11&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">}))</span></span>
<span class="line"><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pipe</span><span style="color:#E1E4E8;">(gulp.</span><span style="color:#B392F0;">dest</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./public&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#6A737D;">//压缩html</span></span>
<span class="line"><span style="color:#E1E4E8;">gulp.</span><span style="color:#B392F0;">task</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;minify-html&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> gulp.</span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./public/**/*.html&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pipe</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">htmlclean</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pipe</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">htmlmin</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">removeComments: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//清除html注释</span></span>
<span class="line"><span style="color:#E1E4E8;">collapseWhitespace: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//压缩html</span></span>
<span class="line"><span style="color:#E1E4E8;">collapseBooleanAttributes: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#6A737D;">//省略布尔属性的值，例如：&lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">removeEmptyAttributes: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#6A737D;">//删除所有空格作属性值，例如：&lt;input id=&quot;&quot; /&gt; ==&gt; &lt;input /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">removeScriptTypeAttributes: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#6A737D;">//删除&lt;script&gt;的type=&quot;text/javascript&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">removeStyleLinkTypeAttributes: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#6A737D;">//删除&lt;style&gt;和&lt;link&gt;的 type=&quot;text/css&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">minifyJS: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//压缩页面 JS</span></span>
<span class="line"><span style="color:#E1E4E8;">minifyCSS: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//压缩页面 CSS</span></span>
<span class="line"><span style="color:#E1E4E8;">minifyURLs: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//压缩页面URL</span></span>
<span class="line"><span style="color:#E1E4E8;">}))</span></span>
<span class="line"><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">pipe</span><span style="color:#E1E4E8;">(gulp.</span><span style="color:#B392F0;">dest</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./public&#39;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 运行gulp命令时依次执行以下任务</span></span>
<span class="line"><span style="color:#E1E4E8;">gulp.</span><span style="color:#B392F0;">task</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;default&#39;</span><span style="color:#E1E4E8;">, gulp.</span><span style="color:#B392F0;">parallel</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;compress&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;minify-css&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;minify-html&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> gulp </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;gulp&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> cleanCSS </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;gulp-clean-css&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> htmlmin </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;gulp-html-minifier-terser&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> htmlclean </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;gulp-htmlclean&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> terser </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;gulp-terser&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">// 压缩js</span></span>
<span class="line"><span style="color:#24292E;">gulp.</span><span style="color:#6F42C1;">task</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;compress&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">gulp.</span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;./public/**/*.js&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;!./public/**/*.min.js&#39;</span><span style="color:#24292E;">])</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">pipe</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">terser</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">pipe</span><span style="color:#24292E;">(gulp.</span><span style="color:#6F42C1;">dest</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;./public&#39;</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6A737D;">//压缩css</span></span>
<span class="line"><span style="color:#24292E;">gulp.</span><span style="color:#6F42C1;">task</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;minify-css&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#D73A49;">return</span><span style="color:#24292E;"> gulp.</span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;./public/**/*.css&#39;</span><span style="color:#24292E;">])</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">pipe</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">cleanCSS</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">compatibility: </span><span style="color:#032F62;">&#39;ie11&#39;</span></span>
<span class="line"><span style="color:#24292E;">}))</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">pipe</span><span style="color:#24292E;">(gulp.</span><span style="color:#6F42C1;">dest</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;./public&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#6A737D;">//压缩html</span></span>
<span class="line"><span style="color:#24292E;">gulp.</span><span style="color:#6F42C1;">task</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;minify-html&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#D73A49;">return</span><span style="color:#24292E;"> gulp.</span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;./public/**/*.html&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">pipe</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">htmlclean</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">pipe</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">htmlmin</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">removeComments: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//清除html注释</span></span>
<span class="line"><span style="color:#24292E;">collapseWhitespace: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//压缩html</span></span>
<span class="line"><span style="color:#24292E;">collapseBooleanAttributes: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#6A737D;">//省略布尔属性的值，例如：&lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input /&gt;</span></span>
<span class="line"><span style="color:#24292E;">removeEmptyAttributes: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#6A737D;">//删除所有空格作属性值，例如：&lt;input id=&quot;&quot; /&gt; ==&gt; &lt;input /&gt;</span></span>
<span class="line"><span style="color:#24292E;">removeScriptTypeAttributes: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#6A737D;">//删除&lt;script&gt;的type=&quot;text/javascript&quot;</span></span>
<span class="line"><span style="color:#24292E;">removeStyleLinkTypeAttributes: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#6A737D;">//删除&lt;style&gt;和&lt;link&gt;的 type=&quot;text/css&quot;</span></span>
<span class="line"><span style="color:#24292E;">minifyJS: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//压缩页面 JS</span></span>
<span class="line"><span style="color:#24292E;">minifyCSS: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//压缩页面 CSS</span></span>
<span class="line"><span style="color:#24292E;">minifyURLs: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//压缩页面URL</span></span>
<span class="line"><span style="color:#24292E;">}))</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">pipe</span><span style="color:#24292E;">(gulp.</span><span style="color:#6F42C1;">dest</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;./public&#39;</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 运行gulp命令时依次执行以下任务</span></span>
<span class="line"><span style="color:#24292E;">gulp.</span><span style="color:#6F42C1;">task</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;default&#39;</span><span style="color:#24292E;">, gulp.</span><span style="color:#6F42C1;">parallel</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#032F62;">&#39;compress&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;minify-css&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;minify-html&#39;</span></span>
<span class="line"><span style="color:#24292E;">))</span></span></code></pre></div></li><li>每次提交时使用gulp进行压缩</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hexo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clean</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">hexo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">g</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">gulp</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">hexo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">deploy</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hexo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clean</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">hexo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">g</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">gulp</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">hexo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">deploy</span></span></code></pre></div>`,13),e=[o];function t(c,r,E,y,i,F){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{m as __pageData,d as default};
